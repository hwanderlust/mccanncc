(window.webpackJsonp=window.webpackJsonp||[]).push([[1,2],{17:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(7),c=a(9),l=a(8),o=a(10),i=a(0),s=a.n(i),u=a(5),m=Object(i.memo)(function(e){var t=e.title,a=e.url;return s.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"pic-title"},s.a.createElement("h3",null,t))}),f=Object(i.memo)(function(e){var t=e.tile;return s.a.createElement("figcaption",{className:"pic-details"},s.a.createElement("span",null,s.a.createElement("i",{className:"fas fa-user"})," ".concat(t.author)),s.a.createElement("span",null,s.a.createElement("i",{className:"far fa-clock"})," ".concat(t.creation)),s.a.createElement("span",null,s.a.createElement("i",{className:"fas fa-bolt"})," ".concat(t.score)))}),h=Object(i.memo)(function(e){var t=e.picture,a=e.author,n=e.title,r=e.handleOnload,c=e.handleOnError,l=e.description;return s.a.createElement("figure",{className:"pic-container"},l?s.a.createElement("p",{className:"tile-desc"},l):s.a.createElement("img",{className:"tile-pic",src:t,onLoad:r,alt:"".concat(n," by ").concat(a),onError:c}))}),p=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).toggleFavClass=function(){var e=a.favIcon.current.className;a.state.fav?a.favIcon.current.className=e.slice(0,e.length-4):a.favIcon.current.className+=" red"},a.toggleFav=function(){var e=a.context,t=e.handleFavoriting,n=e.handleUnfavoriting,r=a.props.tile;a.toggleFavClass(),a.setState(function(e){return e.fav?n(r.id):t(r),{fav:!e.fav}},function(){console.log(a.state)})},a.handleKeyPress=function(e){"Enter"===e.key&&a.toggleFav()},a.handleOnload=function(){a.setState({loaded:!0})},a.handleOnError=function(e){var t=document.createElement("img");t.src="http://i.imgur.com/lqHeX.jpg";var a=e.target.parentElement;e.target.remove(),a.appendChild(t)},a.handleTouch=function(e){var t;e.persist(),a.setState(function(a){return t=a,{touched:a.touched<2?++a.touched:1,timeStamp:e.timeStamp}},function(){2===a.state.touched&&a.state.timeStamp-t.timeStamp<=1e3&&a.toggleFav()})},a.passPictureDown=function(){return a.state.loaded?a.props.tile.picture:a.props.tile.thumbnail},a.state={fav:!1,loaded:!1,touched:0,timeStamp:0},a.favIcon=s.a.createRef(),a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.fav&&(this.favIcon.current.className+=" red",this.setState({fav:!0}))}},{key:"componentWillUnmount",value:function(){console.log("UNMOUNT")}},{key:"render",value:function(){var e=this.props,t=e.tile,a=e.style;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"tile-wrapper",onTouchStartCapture:this.handleTouch},s.a.createElement("div",{className:"tile-container",style:a,onDoubleClick:this.toggleFav,tabIndex:"0"},s.a.createElement(h,{picture:this.passPictureDown(),title:t.title,author:t.author,description:t.description,handleOnload:this.handleOnload,handleOnError:this.handleOnError}),s.a.createElement(m,{title:t.title,url:t.url}),s.a.createElement(f,{tile:t})),s.a.createElement("i",{ref:this.favIcon,className:"fab fa-gratipay fav-icon",onClick:this.toggleFav,onKeyPress:this.handleKeyPress,tabIndex:"0"})))}}]),t}(i.PureComponent);p.contextType=u.a;t.default=p},36:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(7),c=a(9),l=a(8),o=a(10),i=a(0),s=a.n(i),u=a(5),m=a(17),f=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={favs:null},a.getFavorites=function(){return JSON.parse(localStorage.getItem("favs"))},a.renderFavTiles=function(e){return e&&e.length?e.map(function(e){return s.a.createElement(m.default,{key:e.id,tile:e,fav:!0})}):s.a.createElement("div",{className:"error-msg"},"Whoops! I think you've got to favorite some things first :D")},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({favs:this.getFavorites()},function(){return console.log(e.state)})}},{key:"render",value:function(){var e=this;return s.a.createElement("main",{className:"tile-area"},s.a.createElement(u.a,null,function(t){return s.a.createElement(s.a.Fragment,null,e.renderFavTiles(t.favorites))}))}}]),t}(s.a.Component);f.contextType=u.a,t.default=f}}]);
//# sourceMappingURL=1.e330d42c.chunk.js.map